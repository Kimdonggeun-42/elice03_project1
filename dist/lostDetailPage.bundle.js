(()=>{"use strict";var t,n,e,a,s,o={536:(t,n,e)=>{e.d(n,{L:()=>a});const a=()=>{document.querySelector(".lost-detail__btn-container").innerHTML='\n    <a href="/lostPets">\n      <button class="btn back-to-list-btn">목록으로</button>\n    </a>\n  '}},181:(t,n,e)=>{e.d(n,{d:()=>s,I:()=>a});const a={pageNo:1,numOfRows:10,upkind:"",upr_cd:"",org_cd:"",state:"",bgnde:"",endde:""},s=async t=>{const n=await(async({pageNo:t,numOfRows:n,upkind:e,upr_cd:a,org_cd:s,state:o,bgnde:d,endde:c})=>{try{return(await fetch(`/api/lost-pets?upr_cd=${a}&org_cd=${s}&upkind=${e}&state=${o}&pageNo=${t}&numOfRows=${n}&bgnde=${d}&endde=${c}`)).json()}catch(t){console.log(t)}})(t),[e,a]=(t=>{const{items:{item:n},totalCount:e}=t;return[n,e]})(n);return[e,a]}},579:(t,n,e)=>{e.a(t,(async t=>{var n=e(823),a=e(842),s=e(536),o=t([n]);n=(o.then?await o:o)[0],(0,a.M)(n.b),(0,s.L)()}))},823:(t,n,e)=>{e.a(t,(async t=>{e.d(n,{b:()=>c});var a=e(181),s=e(505),o=e(342),d=e(482);let[c,r]=await(0,a.d)(a.I);if("/lostPets"===location.pathname){(0,o._)(),(0,s.E)(c),(0,d.J)(r,a.I.numOfRows);const t=async()=>{a.I.upr_cd=document.querySelector("#sido").value,a.I.org_cd=document.querySelector("#sigungu").value,a.I.upkind=document.querySelector("#upkind").value,a.I.state=document.querySelector("#state").value,a.I.bgnde=document.querySelector("#beginDate").value,a.I.endde=document.querySelector("#endDate").value;let[t,n]=await(0,a.d)(a.I);(0,s.E)(t),(0,d.J)(n,a.I.numOfRows)};document.querySelector(".lost-search .search-btn").addEventListener("click",(n=>{n.preventDefault(),t()}))}t()}),1)},482:(t,n,e)=>{e.d(n,{J:()=>o});var a=e(181),s=e(505);const o=(t,n)=>{let e=1,o=e,d=Math.ceil(t/n);const c=document.querySelector(".lost .pagination"),r=(t,e)=>{t.innerHTML="";let a='<div class="prev-btn page-btn"><</div>';for(let t=e;t<e+n&&!(t>d);t++)a+=t===o?`<div class="page-btn active">${t}</div>`:`<div class="page-btn">${t}</div>`;a+='<div class="next-btn page-btn">></div>',c.innerHTML+=a};r(c,e);const i=async t=>{let[n,e]=await(0,a.d)({...a.I,pageNo:t});(0,s.E)(n)};c.addEventListener("click",(t=>{t.preventDefault(),"<"===t.target.innerText?e>1&&(e-=n,o=e,r(c,o),i(o)):">"===t.target.innerText?e<=d-n&&(e+=n,o=e,r(c,o),i(o)):(document.querySelector(".pagination .active").classList.remove("active"),o=Number(t.target.innerText),t.target.classList.add("active"),i(o))}))}},505:(t,n,e)=>{e.d(n,{E:()=>s});const a=t=>{const{age:n,desertionNo:e,happenDt:a,kindCd:s,orgNm:o,popfile:d,processState:c,sexCd:r,specialMark:i,weight:l}=t;return`\n    <article class="lost-content__item">\n      <a href="/lostPets/${e}">\n        <div class="lost-content__img-container">\n          <img\n            class="lost-content__img"\n            src="${d}"\n          />\n        </div>\n        <div class="lost-content__info">\n          <div class="lost-content__kind-sex">\n            <span>${s} / ${r}</span>\n          </div>\n          <div class="lost-content__age-weight">\n            <span>${n} / ${l}</span>\n          </div>\n          <div class="lost-content__date">\n            <span>${a} 접수</span>\n          </div>\n          <div class="lost-content__place">\n            <span>${o}</span>\n          </div>\n          <div class="lost-content__special">\n            <span>${i}</span>\n          </div>\n          <div class="lost-content__state"><span>${c}</span></div>\n        </div>\n      </a>\n    </article>\n`},s=t=>{const n=t.map(a);document.querySelector(".lost-content").innerHTML=n.join("")}},842:(t,n,e)=>{e.d(n,{M:()=>a});const a=t=>{const n=location.pathname.split("/")[2],e=t.find((t=>String(t.desertionNo)===n)),a=`\n  <div class="lost-detail__img-container">\n    <img\n      class="lost-detail__img"\n      src="${(s=e).popfile}"\n    />\n  </div>\n\n  <div class="lost-detail__info">\n    <div class="lost-detail__animal-info">\n      <div class="lost-detail__title">보호 동물 정보</div>\n      <table>\n        <tbody>\n          <tr>\n            <th>공고번호</th>\n            <td colspan="3">${s.noticeNo}</td>\n          </tr>\n          <tr>\n            <th>공고기간</th>\n            <td>${s.noticeSdt} ~ ${s.noticeEdt}</td>\n            <th>상태</th>\n            <td>${s.processState}</td>\n          </tr>\n          <tr>\n            <th>품종</th>\n            <td>${s.kindCd}</td>\n            <th>색상</th>\n            <td>${s.colorCd}</td>\n          </tr>\n          <tr>\n            <th>나이</th>\n            <td>${s.age}</td>\n            <th>체중</th>\n            <td>${s.weight}</td>\n          </tr>\n          <tr>\n            <th>성별</th>\n            <td>${s.sexCd}</td>\n            <th>중성화여부</th>\n            <td>${s.neuterYn}</td>\n          </tr>\n          <tr>\n            <th>접수일</th>\n            <td>${s.happenDt}</td>\n          </tr>\n          <tr>\n            <th>발견장소</th>\n            <td colspan="3">${s.happenPlace}</td>\n          </tr>\n          <tr>\n            <th>특징</th>\n            <td colspan="3">${s.specialMark}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div class="lost-detail__shelter-info">\n      <div class="lost-detail__title">보호소 정보</div>\n      <table>\n        <tbody>\n          <tr>\n            <th>보호소명</th>\n            <td>${s.careNm}</td>\n            <th>전화번호</th>\n            <td>${s.careTel}</td>\n          </tr>\n          <tr>\n            <th>보호장소</th>\n            <td colspan="3">${s.careAddr}</td>\n          </tr>\n          <tr>\n            <th>관할기관</th>\n            <td colspan="3">${s.orgNm}</td>\n          </tr>\n          <tr>\n            <th>담당자</th>\n            <td>${s.chargeNm}</td>\n            <th>연락처</th>\n            <td>${s.officetel}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n`;var s;document.querySelector(".lost-detail-container").innerHTML=a}},342:(t,n,e)=>{e.d(n,{_:()=>o});const a={sido:"시/도",sigungu:"시/군/구",upkind:"축종",state:"상태"},s={sido:{서울특별시:"6110000",부산광역시:"6260000",대구광역시:"6270000",인천광역시:"6280000",광주광역시:"6290000",대전광역시:"6300000",울산광역시:"6310000",세종특별자치시:"5690000",경기도:"6410000",강원도:"6420000",충청북도:"6430000",충청남도:"6440000",전라북도:"6450000",전라남도:"6460000",경상북도:"6470000",경상남도:"6480000",제주특별자치도:"6500000"},upkind:{개:"417000",고양이:"422400",기타:"429900"},state:{공고중:"notice",보호중:"protect"}},o=()=>{document.querySelector(".lost-search").innerHTML='\n  <div class="lost-search__box">\n    <form\n      id="lostSearchForm"\n      method="GET"\n      action="./lostPets"\n      accept-charset="utf-8"\n      autocomplete="off"\n    >\n      <div class="lost-search__date">\n        <span>날짜</span>\n        <input type="date" id="beginDate" name="bgnde" />\n        <span>~</span>\n        <input type="date" id="endDate" name="endde" />\n      </div>\n      <div class="lost-search__place">\n        <span>지역</span>\n        <select id="sido" name="upr_cd"></select>\n        <select id="sigungu" name="org_cd"></select>\n      </div>\n      <div class="lost-search__kind-state">\n        <div class="lost-search__kind">\n          <span>품종</span>\n          <select id="upkind" name="up_kind_cd"></select>\n        </div>\n        <div class="lost-search__state">\n          <span>상태</span>\n          <select id="state" name="state"></select>\n        </div>\n      </div>\n      <div class="search-btn-container">\n        <button class="btn search-btn">검색</button>\n      </div>\n    </form>\n  </div>\n',document.querySelectorAll(".lost-search select").forEach((t=>{const{id:n}=t,e=a[n];t.innerHTML=`\n        <option value="" disabled selected hidden>${e} 선택</option>\n        <option value="">전체</option>\n        `,n in s&&((t,n)=>{for(const[e,a]of Object.entries(n))t.innerHTML+=`<option value="${a}">${e}</option>`})(t,s[n])})),document.querySelector("#sido").addEventListener("change",(t=>{(async t=>{const n=document.querySelector("#sigungu");n.innerHTML='\n    <option value="" disabled selected hidden>시/군/구 선택</option>\n    <option value="">전체</option>\n  ';const e=await(async t=>{try{return(await fetch(`/api/get-district/?upr_cd=${t}`)).json()}catch(t){console.log(t)}})(t);e.forEach((t=>{const{orgCd:e,orgdownNm:a}=t;n.innerHTML+=`<option value="${e}">${a}</option>`}))})(t.target.value)}))}}},d={};function c(t){var n=d[t];if(void 0!==n)return n.exports;var e=d[t]={exports:{}};return o[t](e,e.exports,c),e.exports}t="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e=t=>{t&&(t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a=t=>!--t.r&&t(),s=(t,n)=>t?t.push(n):a(n),c.a=(o,d,c)=>{var r,i,l,p=c&&[],u=o.exports,v=!0,h=!1,_=(n,e,a)=>{h||(h=!0,e.r+=n.length,n.map(((n,s)=>n[t](e,a))),h=!1)},m=new Promise(((t,n)=>{l=n,i=()=>(t(u),e(p),p=0)}));m[n]=u,m[t]=(t,n)=>{if(v)return a(t);r&&_(r,t,n),s(p,t),m.catch(n)},o.exports=m,d((o=>{if(!o)return i();var d,c;r=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var d=[];o.then((t=>{c[n]=t,e(d),d=0}));var c={};return c[t]=(t,n)=>(s(d,t),o.catch(n)),c}}var r={};return r[t]=t=>a(t),r[n]=o,r})))(o);var l=new Promise(((t,e)=>{(d=()=>t(c=r.map((t=>t[n])))).r=0,_(r,d,e)}));return d.r?l:c})).then(i,l),v=!1},c.d=(t,n)=>{for(var e in n)c.o(n,e)&&!c.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},c.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),c(579)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9zdERldGFpbFBhZ2UuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJ1QkFBSUEsRUFDQUMsRUFDQUMsRUFNQUMsRUFDQUMsRSxrQ0NUSixNQUFNQyxFQUFnQixLQUNDQyxTQUFTQyxjQUFjLCtCQU0vQkMsVUFMTyx1Ryx1Q0NGdEIsTUFBTUMsRUFBZSxDQUNuQkMsT0FBUSxFQUNSQyxVQUFXLEdBQ1hDLE9BQVEsR0FDUkMsT0FBUSxHQUNSQyxPQUFRLEdBQ1JDLE1BQU8sR0FDUEMsTUFBTyxHQUNQQyxNQUFPLElBZ0NIQyxFQUFjQyxNQUFPQyxJQUN6QixNQUFNQyxPQTlCZUYsUUFDckJULE9BQUFBLEVBQ0FDLFVBQUFBLEVBQ0FDLE9BQUFBLEVBQ0FDLE9BQUFBLEVBQ0FDLE9BQUFBLEVBQ0FDLE1BQUFBLEVBQ0FDLE1BQUFBLEVBQ0FDLE1BQUFBLE1BRUEsSUFLRSxhQUp1QkssTUFDckIseUJBQXlCVCxZQUFpQkMsWUFBaUJGLFdBQWdCRyxZQUFnQkwsZUFBb0JDLFdBQW1CSyxXQUFlQyxNQUU3SE0sT0FFdEIsTUFBT0MsR0FDUEMsUUFBUUMsSUFBSUYsS0FhWUcsQ0FBZVAsSUFDbENRLEVBQWFDLEdBVkMsQ0FBQ0MsSUFDdEIsTUFDRUMsT0FBU0MsS0FBTUosR0FBYSxXQUM1QkMsR0FDRUMsRUFDSixNQUFPLENBQUNGLEVBQWFDLElBS2FJLENBQWVaLEdBQ2pELE1BQU8sQ0FBQ08sRUFBYUMsSyxnR0N2Q3ZCLE9BQW1CLE1BQ25CLGEsd0ZDQUEsSUFBS0QsRUFBYUMsU0FBb0IsT0FBWSxLQUVsRCxHQUEwQixjQUF0QkssU0FBU0MsU0FBMEIsRUFDckMsVUFDQSxPQUFjUCxJQUNkLE9BQWNDLEVBQVksZUFFMUIsTUFBTU8sRUFBbUJqQixVQUN2QixXQUFzQmIsU0FBU0MsY0FBYyxTQUFTOEIsTUFDdEQsV0FBc0IvQixTQUFTQyxjQUFjLFlBQVk4QixNQUN6RCxXQUFzQi9CLFNBQVNDLGNBQWMsV0FBVzhCLE1BQ3hELFVBQXFCL0IsU0FBU0MsY0FBYyxVQUFVOEIsTUFDdEQsVUFBcUIvQixTQUFTQyxjQUFjLGNBQWM4QixNQUMxRCxVQUFxQi9CLFNBQVNDLGNBQWMsWUFBWThCLE1BRXhELElBQUtULEVBQWFDLFNBQW9CLE9BQVksTUFDbEQsT0FBY0QsSUFDZCxPQUFjQyxFQUFZLGdCQUdWdkIsU0FBU0MsY0FBYyw0QkFDL0IrQixpQkFBaUIsU0FBVUMsSUFDbkNBLEVBQUVDLGlCQUNGSixPLCtEQ3pCSixNQUFNSyxFQUFnQixDQUFDWixFQUFZYSxLQUNqQyxJQUFJQyxFQUFZLEVBQ1pDLEVBQWVELEVBQ2ZFLEVBQVdDLEtBQUtDLEtBQUtsQixFQUFhYSxHQUN0QyxNQUFNTSxFQUFnQjFDLFNBQVNDLGNBQWMscUJBR3ZDMEMsRUFBaUIsQ0FBQ0MsRUFBV1AsS0FDakNPLEVBQVUxQyxVQUFZLEdBQ3RCLElBQUkyQyxFQUFXLHlDQUNmLElBQUssSUFBSUMsRUFBSVQsRUFBV1MsRUFBSVQsRUFBWUQsS0FDbENVLEVBQUlQLEdBRHVDTyxJQUc3Q0QsR0FERUMsSUFBTVIsRUFDSSxnQ0FBZ0NRLFVBRWhDLHlCQUF5QkEsVUFHekNELEdBQVkseUNBQ1pILEVBQWN4QyxXQUFhMkMsR0FHN0JGLEVBQWVELEVBQWVMLEdBRzlCLE1BQU1VLEVBQWlCbEMsTUFBT21DLElBQzVCLElBQUsxQixFQUFhQyxTQUFvQixPQUFZLElBQzdDLElBQ0huQixPQUFRNEMsS0FFVixPQUFjMUIsSUFJaEJvQixFQUFjVixpQkFBaUIsU0FBVUMsSUFDdkNBLEVBQUVDLGlCQUN5QixNQUF2QkQsRUFBRWdCLE9BQU9DLFVBQ1BiLEVBQVksSUFDZEEsR0FBYUQsRUFDYkUsRUFBZUQsRUFDZk0sRUFBZUQsRUFBZUosR0FDOUJTLEVBQWVULElBRWUsTUFBdkJMLEVBQUVnQixPQUFPQyxVQUNkYixHQUFhRSxFQUFXSCxJQUMxQkMsR0FBYUQsRUFDYkUsRUFBZUQsRUFDZk0sRUFBZUQsRUFBZUosR0FDOUJTLEVBQWVULEtBR0N0QyxTQUFTQyxjQUFjLHVCQUMvQmtELFVBQVVDLE9BQU8sVUFDM0JkLEVBQWVlLE9BQU9wQixFQUFFZ0IsT0FBT0MsV0FDL0JqQixFQUFFZ0IsT0FBT0UsVUFBVUcsSUFBSSxVQUN2QlAsRUFBZVQsUywrQkMxRHJCLE1BQU1pQixFQUFxQjdCLElBQ3pCLE1BQU0sSUFDSjhCLEVBQUcsWUFDSEMsRUFBVyxTQUNYQyxFQUFRLE9BQ1JDLEVBQU0sTUFDTkMsRUFBSyxRQUNMQyxFQUFPLGFBQ1BDLEVBQVksTUFDWkMsRUFBSyxZQUNMQyxFQUFXLE9BQ1hDLEdBQ0V2QyxFQWlDSixNQS9Cd0Isd0VBRUMrQixtSUFJUkksaUpBS0NGLE9BQVlJLG1HQUdaUCxPQUFTUyw2RkFHVFAsaUdBR0FFLGdHQUdBSSxnRkFFK0JGLGdFQVM3Q0ksRUFBaUI1QyxJQUNyQixNQUFNNkMsRUFBZTdDLEVBQVk4QyxJQUFJYixHQUNyQ3ZELFNBQVNDLGNBQWMsaUJBQWlCQyxVQUFZaUUsRUFBYUUsS0FBSyxNLCtCQ2xEeEUsTUEyRk1DLEVBQXNCaEQsSUFDMUIsTUFBTWlELEVBQVczQyxTQUFTQyxTQUFTMkMsTUFBTSxLQUFLLEdBQ3hDQyxFQUFhbkQsRUFBWW9ELE1BQzVCaEQsR0FBU2lELE9BQU9qRCxFQUFLK0IsZUFBaUJjLElBRW5DSyxFQS9Gd0IsdUdBREhsRCxFQWdHZStDLEdBM0YxQlosNlFBV1luQyxFQUFLbUQsOEZBSWpCbkQsRUFBS29ELGVBQWVwRCxFQUFLcUQsNERBRXpCckQsRUFBS29DLGdHQUlMcEMsRUFBS2lDLHlEQUVMakMsRUFBS3NELDJGQUlMdEQsRUFBSzhCLHNEQUVMOUIsRUFBS3VDLDBGQUlMdkMsRUFBS3FDLDJEQUVMckMsRUFBS3VELDZGQUlMdkQsRUFBS2dDLDBHQUlPaEMsRUFBS3dELDJHQUlMeEQsRUFBS3NDLGtSQVlqQnRDLEVBQUt5RCwyREFFTHpELEVBQUswRCx5R0FJTzFELEVBQUsyRCwwR0FJTDNELEVBQUtrQywwRkFJakJsQyxFQUFLNEQsNERBRUw1RCxFQUFLNkQsNEZBaEZLLElBQUM3RCxFQWlHM0IxQixTQUFTQyxjQUFjLDBCQUEwQkMsVUFBWTBFLEksK0JDakcvRCxNQXFDTVksRUFBZ0IsQ0FDcEJDLEtBQU0sTUFDTkMsUUFBUyxRQUNUcEYsT0FBUSxLQUNSRyxNQUFPLE1BR0hrRixFQUFnQixDQUNwQkYsS0FBTSxDQUNKLE1BQU8sVUFDUCxNQUFPLFVBQ1AsTUFBTyxVQUNQLE1BQU8sVUFDUCxNQUFPLFVBQ1AsTUFBTyxVQUNQLE1BQU8sVUFDUCxRQUFTLFVBQ1QsSUFBSyxVQUNMLElBQUssVUFDTCxLQUFNLFVBQ04sS0FBTSxVQUNOLEtBQU0sVUFDTixLQUFNLFVBQ04sS0FBTSxVQUNOLEtBQU0sVUFDTixRQUFTLFdBRVhuRixPQUFRLENBQ04sRUFBRyxTQUNILElBQUssU0FDTCxHQUFJLFVBRU5HLE1BQU8sQ0FDTCxJQUFLLFNBQ0wsSUFBSyxZQW9ESG1GLEVBQWtCLEtBQ3RCNUYsU0FBU0MsY0FBYyxnQkFBZ0JDLFVBNUhkLG9pQ0E2RVRGLFNBQVM2RixpQkFBaUIsdUJBQ2xDQyxTQUFTQyxJQUNmLE1BQU0sR0FBRUMsR0FBT0QsRUFDVEUsRUFBYVQsRUFBY1EsR0FDakNELEVBQU83RixVQUFZLHVEQUM2QitGLGdFQUk1Q0QsS0FBTUwsR0FNUSxFQUFDSSxFQUFRRyxLQUM3QixJQUFLLE1BQU9DLEVBQUtwRSxLQUFVcUUsT0FBT0MsUUFBUUgsR0FDeENILEVBQU83RixXQUFhLGtCQUFrQjZCLE1BQVVvRSxjQVA5Q0csQ0FBY1AsRUFBUUosRUFBY0ssT0F3Q3JCaEcsU0FBU0MsY0FBYyxTQUMvQitCLGlCQUFpQixVQUFXQyxJQW5CZnBCLE9BQU9OLElBQy9CLE1BQU1nRyxFQUFnQnZHLFNBQVNDLGNBQWMsWUFDN0NzRyxFQUFjckcsVUFBWSwwR0FJMUIsTUFBTXdGLE9BaEJlN0UsT0FBT04sSUFDNUIsSUFHRSxhQUZ1QlMsTUFBTSw2QkFBNkJULE1BQ3BDVSxPQUV0QixNQUFPQyxHQUNQQyxRQUFRQyxJQUFJRixLQVVRc0YsQ0FBZWpHLEdBQ3JDbUYsRUFBUUksU0FBU3BFLElBQ2YsTUFBTSxNQUFFK0UsRUFBSyxVQUFFQyxHQUFjaEYsRUFDN0I2RSxFQUFjckcsV0FBYSxrQkFBa0J1RyxNQUFVQyxpQkFXdkRDLENBQWtCMUUsRUFBRWdCLE9BQU9sQixhQ2hJM0I2RSxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxJQU9WLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsUVRyQlh2SCxFQUFnQyxtQkFBWDBILE9BQXdCQSxPQUFPLGdCQUFrQixtQkFDdEV6SCxFQUFtQyxtQkFBWHlILE9BQXdCQSxPQUFPLG1CQUFxQixzQkFDNUV4SCxFQUFpQnlILElBQ2pCQSxJQUNGQSxFQUFNdkIsU0FBU3dCLEdBQVFBLEVBQUdDLE1BQzFCRixFQUFNdkIsU0FBU3dCLEdBQVFBLEVBQUdDLElBQU1ELEVBQUdDLElBQU1ELFFBR3ZDekgsRUFBb0J5SCxNQUFXQSxFQUFHQyxHQUFLRCxJQUN2Q3hILEVBQWdCLENBQUN1SCxFQUFPQyxJQUFRRCxFQUFRQSxFQUFNRyxLQUFLRixHQUFNekgsRUFBaUJ5SCxHQXFCOUVULEVBQW9CWSxFQUFJLENBQUNQLEVBQVFRLEVBQU1DLEtBQ3RDLElBRUlDLEVBQ0FDLEVBQ0FDLEVBSkFULEVBQVFNLEdBQVksR0FDcEJWLEVBQVVDLEVBQU9ELFFBSWpCYyxHQUFlLEVBQ2ZDLEdBQVMsRUFDVEMsRUFBVSxDQUFDQyxFQUFNQyxFQUFXQyxLQUMzQkosSUFDSkEsR0FBUyxFQUNURyxFQUFVWixHQUFLVyxFQUFLRyxPQUNwQkgsRUFBSzlELEtBQUksQ0FBQ2tFLEVBQUt4RixJQUFPd0YsRUFBSTVJLEdBQWF5SSxFQUFXQyxLQUNsREosR0FBUyxJQUVOTyxFQUFVLElBQUlDLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDbkNaLEVBQVNZLEVBQ1RiLEVBQWUsS0FBT1ksRUFBUXhCLEdBQVVySCxFQUFjeUgsR0FBUUEsRUFBUSxNQUV2RWtCLEVBQVE1SSxHQUFrQnNILEVBQzFCc0IsRUFBUTdJLEdBQWUsQ0FBQzRILEVBQUlxQixLQUMzQixHQUFJWixFQUFnQixPQUFPbEksRUFBaUJ5SCxHQUN4Q00sR0FBYUssRUFBUUwsRUFBYU4sRUFBSXFCLEdBQzFDN0ksRUFBY3VILEVBQU9DLEdBQ3JCaUIsRUFBZSxNQUFFSSxJQUVsQnpCLEVBQU9ELFFBQVVzQixFQUNqQmIsR0FBTVEsSUFDTCxJQUFJQSxFQUFNLE9BQU9MLElBRWpCLElBQUlQLEVBQUlzQixFQURSaEIsRUFqRGEsQ0FBQ00sR0FBVUEsRUFBSzlELEtBQUtrRSxJQUNuQyxHQUFXLE9BQVJBLEdBQStCLGlCQUFSQSxFQUFrQixDQUMzQyxHQUFHQSxFQUFJNUksR0FBYyxPQUFPNEksRUFDNUIsR0FBR0EsRUFBSU8sS0FBTSxDQUNaLElBQUl4QixFQUFRLEdBQ1ppQixFQUFJTyxNQUFNdEIsSUFDVHVCLEVBQUluSixHQUFrQjRILEVBQ3RCM0gsRUFBY3lILEdBQ2RBLEVBQVEsS0FFVCxJQUFJeUIsRUFBTSxHQUVWLE9BRE9BLEVBQUlwSixHQUFlLENBQUM0SCxFQUFJUSxLQUFZaEksRUFBY3VILEVBQU9DLEdBQUtnQixFQUFXLE1BQUVSLElBQzNFZ0IsR0FHVCxJQUFJQyxFQUFNLEdBR0wsT0FGQUEsRUFBSXJKLEdBQWdCNEgsR0FBUXpILEVBQWlCeUgsR0FDN0N5QixFQUFJcEosR0FBa0IySSxFQUNmUyxLQStCR0MsQ0FBU2QsR0FFdkIsSUFBSUssRUFBVSxJQUFJQyxTQUFRLENBQUNDLEVBQVNYLE1BQ25DUixFQUFLLElBQU9tQixFQUFRRyxFQUFTaEIsRUFBWXhELEtBQUs2RSxHQUFPQSxFQUFFdEosT0FDcEQ0SCxFQUFJLEVBQ1BVLEVBQVFMLEVBQWFOLEVBQUlRLE1BRTFCLE9BQU9SLEVBQUdDLEVBQUlnQixFQUFVSyxLQUN0QkMsS0FBS2hCLEVBQWNDLEdBQ3RCQyxHQUFlLEdVbkVoQmxCLEVBQW9Cb0MsRUFBSSxDQUFDaEMsRUFBU2lDLEtBQ2pDLElBQUksSUFBSS9DLEtBQU8rQyxFQUNYckMsRUFBb0JzQyxFQUFFRCxFQUFZL0MsS0FBU1UsRUFBb0JzQyxFQUFFbEMsRUFBU2QsSUFDNUVDLE9BQU9nRCxlQUFlbkMsRUFBU2QsRUFBSyxDQUFFa0QsWUFBWSxFQUFNQyxJQUFLSixFQUFXL0MsTUNKM0VVLEVBQW9Cc0MsRUFBSSxDQUFDTCxFQUFLUyxJQUFVbkQsT0FBT29ELFVBQVVDLGVBQWVDLEtBQUtaLEVBQUtTLEdDR3hEMUMsRUFBb0IsTSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlYW0zLXByb2plY3Qvd2VicGFjay9ydW50aW1lL2FzeW5jIG1vZHVsZSIsIndlYnBhY2s6Ly90ZWFtMy1wcm9qZWN0Ly4vc3JjL2pzL2xvc3RQZXRzL2JhY2tCdG4uanMiLCJ3ZWJwYWNrOi8vdGVhbTMtcHJvamVjdC8uL3NyYy9qcy9sb3N0UGV0cy9nZXRMb3N0UGV0cy5qcyIsIndlYnBhY2s6Ly90ZWFtMy1wcm9qZWN0Ly4vc3JjL2pzL2xvc3RQZXRzL2xvc3REZXRhaWxQYWdlLmpzIiwid2VicGFjazovL3RlYW0zLXByb2plY3QvLi9zcmMvanMvbG9zdFBldHMvbG9zdE1haW5QYWdlLmpzIiwid2VicGFjazovL3RlYW0zLXByb2plY3QvLi9zcmMvanMvbG9zdFBldHMvbG9zdFBhZ2luYXRpb24uanMiLCJ3ZWJwYWNrOi8vdGVhbTMtcHJvamVjdC8uL3NyYy9qcy9sb3N0UGV0cy9sb3N0UGV0cy5qcyIsIndlYnBhY2s6Ly90ZWFtMy1wcm9qZWN0Ly4vc3JjL2pzL2xvc3RQZXRzL2xvc3RQZXRzRGV0YWlsLmpzIiwid2VicGFjazovL3RlYW0zLXByb2plY3QvLi9zcmMvanMvbG9zdFBldHMvc2VhcmNoRm9ybS5qcyIsIndlYnBhY2s6Ly90ZWFtMy1wcm9qZWN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RlYW0zLXByb2plY3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RlYW0zLXByb2plY3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90ZWFtMy1wcm9qZWN0L3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgd2VicGFja1RoZW4gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2woXCJ3ZWJwYWNrIHRoZW5cIikgOiBcIl9fd2VicGFja190aGVuX19cIjtcbnZhciB3ZWJwYWNrRXhwb3J0cyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbChcIndlYnBhY2sgZXhwb3J0c1wiKSA6IFwiX193ZWJwYWNrX2V4cG9ydHNfX1wiO1xudmFyIGNvbXBsZXRlUXVldWUgPSAocXVldWUpID0+IHtcblx0aWYocXVldWUpIHtcblx0XHRxdWV1ZS5mb3JFYWNoKChmbikgPT4gKGZuLnItLSkpO1xuXHRcdHF1ZXVlLmZvckVhY2goKGZuKSA9PiAoZm4uci0tID8gZm4ucisrIDogZm4oKSkpO1xuXHR9XG59XG52YXIgY29tcGxldGVGdW5jdGlvbiA9IChmbikgPT4gKCEtLWZuLnIgJiYgZm4oKSk7XG52YXIgcXVldWVGdW5jdGlvbiA9IChxdWV1ZSwgZm4pID0+IChxdWV1ZSA/IHF1ZXVlLnB1c2goZm4pIDogY29tcGxldGVGdW5jdGlvbihmbikpO1xudmFyIHdyYXBEZXBzID0gKGRlcHMpID0+IChkZXBzLm1hcCgoZGVwKSA9PiB7XG5cdGlmKGRlcCAhPT0gbnVsbCAmJiB0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKSB7XG5cdFx0aWYoZGVwW3dlYnBhY2tUaGVuXSkgcmV0dXJuIGRlcDtcblx0XHRpZihkZXAudGhlbikge1xuXHRcdFx0dmFyIHF1ZXVlID0gW107XG5cdFx0XHRkZXAudGhlbigocikgPT4ge1xuXHRcdFx0XHRvYmpbd2VicGFja0V4cG9ydHNdID0gcjtcblx0XHRcdFx0Y29tcGxldGVRdWV1ZShxdWV1ZSk7XG5cdFx0XHRcdHF1ZXVlID0gMDtcblx0XHRcdH0pO1xuXHRcdFx0dmFyIG9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvYmpbd2VicGFja1RoZW5dID0gKGZuLCByZWplY3QpID0+IChxdWV1ZUZ1bmN0aW9uKHF1ZXVlLCBmbiksIGRlcFsnY2F0Y2gnXShyZWplY3QpKTtcblx0XHRcdHJldHVybiBvYmo7XG5cdFx0fVxuXHR9XG5cdHZhciByZXQgPSB7fTtcblx0XHRcdFx0XHRcdHJldFt3ZWJwYWNrVGhlbl0gPSAoZm4pID0+IChjb21wbGV0ZUZ1bmN0aW9uKGZuKSk7XG5cdFx0XHRcdFx0XHRyZXRbd2VicGFja0V4cG9ydHNdID0gZGVwO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJldDtcbn0pKTtcbl9fd2VicGFja19yZXF1aXJlX18uYSA9IChtb2R1bGUsIGJvZHksIGhhc0F3YWl0KSA9PiB7XG5cdHZhciBxdWV1ZSA9IGhhc0F3YWl0ICYmIFtdO1xuXHR2YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzO1xuXHR2YXIgY3VycmVudERlcHM7XG5cdHZhciBvdXRlclJlc29sdmU7XG5cdHZhciByZWplY3Q7XG5cdHZhciBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuXHR2YXIgbmVzdGVkID0gZmFsc2U7XG5cdHZhciB3aGVuQWxsID0gKGRlcHMsIG9uUmVzb2x2ZSwgb25SZWplY3QpID0+IHtcblx0XHRpZiAobmVzdGVkKSByZXR1cm47XG5cdFx0bmVzdGVkID0gdHJ1ZTtcblx0XHRvblJlc29sdmUuciArPSBkZXBzLmxlbmd0aDtcblx0XHRkZXBzLm1hcCgoZGVwLCBpKSA9PiAoZGVwW3dlYnBhY2tUaGVuXShvblJlc29sdmUsIG9uUmVqZWN0KSkpO1xuXHRcdG5lc3RlZCA9IGZhbHNlO1xuXHR9O1xuXHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWopID0+IHtcblx0XHRyZWplY3QgPSByZWo7XG5cdFx0b3V0ZXJSZXNvbHZlID0gKCkgPT4gKHJlc29sdmUoZXhwb3J0cyksIGNvbXBsZXRlUXVldWUocXVldWUpLCBxdWV1ZSA9IDApO1xuXHR9KTtcblx0cHJvbWlzZVt3ZWJwYWNrRXhwb3J0c10gPSBleHBvcnRzO1xuXHRwcm9taXNlW3dlYnBhY2tUaGVuXSA9IChmbiwgcmVqZWN0Rm4pID0+IHtcblx0XHRpZiAoaXNFdmFsdWF0aW5nKSB7IHJldHVybiBjb21wbGV0ZUZ1bmN0aW9uKGZuKTsgfVxuXHRcdGlmIChjdXJyZW50RGVwcykgd2hlbkFsbChjdXJyZW50RGVwcywgZm4sIHJlamVjdEZuKTtcblx0XHRxdWV1ZUZ1bmN0aW9uKHF1ZXVlLCBmbik7XG5cdFx0cHJvbWlzZVsnY2F0Y2gnXShyZWplY3RGbik7XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gcHJvbWlzZTtcblx0Ym9keSgoZGVwcykgPT4ge1xuXHRcdGlmKCFkZXBzKSByZXR1cm4gb3V0ZXJSZXNvbHZlKCk7XG5cdFx0Y3VycmVudERlcHMgPSB3cmFwRGVwcyhkZXBzKTtcblx0XHR2YXIgZm4sIHJlc3VsdDtcblx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGZuID0gKCkgPT4gKHJlc29sdmUocmVzdWx0ID0gY3VycmVudERlcHMubWFwKChkKSA9PiAoZFt3ZWJwYWNrRXhwb3J0c10pKSkpO1xuXHRcdFx0Zm4uciA9IDA7XG5cdFx0XHR3aGVuQWxsKGN1cnJlbnREZXBzLCBmbiwgcmVqZWN0KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gZm4uciA/IHByb21pc2UgOiByZXN1bHQ7XG5cdH0pLnRoZW4ob3V0ZXJSZXNvbHZlLCByZWplY3QpO1xuXHRpc0V2YWx1YXRpbmcgPSBmYWxzZTtcbn07IiwiY29uc3QgY3JlYXRlQmFja0J0biA9ICgpID0+IHtcbiAgY29uc3QgYnRuQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb3N0LWRldGFpbF9fYnRuLWNvbnRhaW5lclwiKTtcbiAgY29uc3QgYnRuVGVtcGxhdGUgPSBgXG4gICAgPGEgaHJlZj1cIi9sb3N0UGV0c1wiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBiYWNrLXRvLWxpc3QtYnRuXCI+66qp66Gd7Jy866GcPC9idXR0b24+XG4gICAgPC9hPlxuICBgO1xuICBidG5Db250YWluZXIuaW5uZXJIVE1MID0gYnRuVGVtcGxhdGU7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVCYWNrQnRuIH07XG4iLCJjb25zdCBzZWFyY2hQYXJhbXMgPSB7XG4gIHBhZ2VObzogMSxcbiAgbnVtT2ZSb3dzOiAxMCxcbiAgdXBraW5kOiBcIlwiLFxuICB1cHJfY2Q6IFwiXCIsXG4gIG9yZ19jZDogXCJcIixcbiAgc3RhdGU6IFwiXCIsXG4gIGJnbmRlOiBcIlwiLFxuICBlbmRkZTogXCJcIixcbn07XG5cbmNvbnN0IGdldExvc3RQZXREYXRhID0gYXN5bmMgKHtcbiAgcGFnZU5vLFxuICBudW1PZlJvd3MsXG4gIHVwa2luZCxcbiAgdXByX2NkLFxuICBvcmdfY2QsXG4gIHN0YXRlLFxuICBiZ25kZSxcbiAgZW5kZGUsXG59KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGAvYXBpL2xvc3QtcGV0cz91cHJfY2Q9JHt1cHJfY2R9Jm9yZ19jZD0ke29yZ19jZH0mdXBraW5kPSR7dXBraW5kfSZzdGF0ZT0ke3N0YXRlfSZwYWdlTm89JHtwYWdlTm99Jm51bU9mUm93cz0ke251bU9mUm93c30mYmduZGU9JHtiZ25kZX0mZW5kZGU9JHtlbmRkZX1gXG4gICAgKTtcbiAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgZ2V0TG9zdFBldExpc3QgPSAoZGF0YSkgPT4ge1xuICBjb25zdCB7XG4gICAgaXRlbXM6IHsgaXRlbTogbG9zdFBldExpc3QgfSxcbiAgICB0b3RhbENvdW50LFxuICB9ID0gZGF0YTtcbiAgcmV0dXJuIFtsb3N0UGV0TGlzdCwgdG90YWxDb3VudF07XG59O1xuXG5jb25zdCBnZXRMb3N0UGV0cyA9IGFzeW5jIChwYXJhbXMpID0+IHtcbiAgY29uc3QgbG9zdFBldERhdGEgPSBhd2FpdCBnZXRMb3N0UGV0RGF0YShwYXJhbXMpO1xuICBjb25zdCBbbG9zdFBldExpc3QsIHRvdGFsQ291bnRdID0gZ2V0TG9zdFBldExpc3QobG9zdFBldERhdGEpO1xuICByZXR1cm4gW2xvc3RQZXRMaXN0LCB0b3RhbENvdW50XTtcbn07XG5cbmV4cG9ydCB7IGdldExvc3RQZXRzLCBzZWFyY2hQYXJhbXMgfTtcbiIsImltcG9ydCB7IGxvc3RQZXRMaXN0IH0gZnJvbSBcIi4vbG9zdE1haW5QYWdlLmpzXCI7XG5pbXBvcnQgeyBwYWludExvc3RQZXREZXRhaWwgfSBmcm9tIFwiLi9sb3N0UGV0c0RldGFpbC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQmFja0J0biB9IGZyb20gXCIuL2JhY2tCdG4uanNcIjtcblxucGFpbnRMb3N0UGV0RGV0YWlsKGxvc3RQZXRMaXN0KTtcbmNyZWF0ZUJhY2tCdG4oKTtcbiIsImltcG9ydCB7IGdldExvc3RQZXRzLCBzZWFyY2hQYXJhbXMgfSBmcm9tIFwiLi9nZXRMb3N0UGV0cy5qc1wiO1xuaW1wb3J0IHsgcGFpbnRMb3N0UGV0cyB9IGZyb20gXCIuL2xvc3RQZXRzLmpzXCI7XG5pbXBvcnQgeyBwYWludFNlYXJjaEZvcm0gfSBmcm9tIFwiLi9zZWFyY2hGb3JtLmpzXCI7XG5pbXBvcnQgeyBzZXRQYWdpbmF0aW9uIH0gZnJvbSBcIi4vbG9zdFBhZ2luYXRpb24uanNcIjtcblxubGV0IFtsb3N0UGV0TGlzdCwgdG90YWxDb3VudF0gPSBhd2FpdCBnZXRMb3N0UGV0cyhzZWFyY2hQYXJhbXMpO1xuXG5pZiAobG9jYXRpb24ucGF0aG5hbWUgPT09IFwiL2xvc3RQZXRzXCIpIHtcbiAgcGFpbnRTZWFyY2hGb3JtKCk7XG4gIHBhaW50TG9zdFBldHMobG9zdFBldExpc3QpO1xuICBzZXRQYWdpbmF0aW9uKHRvdGFsQ291bnQsIHNlYXJjaFBhcmFtcy5udW1PZlJvd3MpO1xuXG4gIGNvbnN0IHNob3dTZWFyY2hSZXN1bHQgPSBhc3luYyAoKSA9PiB7XG4gICAgc2VhcmNoUGFyYW1zLnVwcl9jZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2lkb1wiKS52YWx1ZTtcbiAgICBzZWFyY2hQYXJhbXMub3JnX2NkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzaWd1bmd1XCIpLnZhbHVlO1xuICAgIHNlYXJjaFBhcmFtcy51cGtpbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Vwa2luZFwiKS52YWx1ZTtcbiAgICBzZWFyY2hQYXJhbXMuc3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N0YXRlXCIpLnZhbHVlO1xuICAgIHNlYXJjaFBhcmFtcy5iZ25kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYmVnaW5EYXRlXCIpLnZhbHVlO1xuICAgIHNlYXJjaFBhcmFtcy5lbmRkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW5kRGF0ZVwiKS52YWx1ZTtcblxuICAgIGxldCBbbG9zdFBldExpc3QsIHRvdGFsQ291bnRdID0gYXdhaXQgZ2V0TG9zdFBldHMoc2VhcmNoUGFyYW1zKTtcbiAgICBwYWludExvc3RQZXRzKGxvc3RQZXRMaXN0KTtcbiAgICBzZXRQYWdpbmF0aW9uKHRvdGFsQ291bnQsIHNlYXJjaFBhcmFtcy5udW1PZlJvd3MpO1xuICB9O1xuXG4gIGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9zdC1zZWFyY2ggLnNlYXJjaC1idG5cIik7XG4gIHNlYXJjaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2hvd1NlYXJjaFJlc3VsdCgpO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgbG9zdFBldExpc3QgfTtcbiIsImltcG9ydCB7IGdldExvc3RQZXRzLCBzZWFyY2hQYXJhbXMgfSBmcm9tIFwiLi9nZXRMb3N0UGV0cy5qc1wiO1xuaW1wb3J0IHsgcGFpbnRMb3N0UGV0cyB9IGZyb20gXCIuL2xvc3RQZXRzLmpzXCI7XG5cbmNvbnN0IHNldFBhZ2luYXRpb24gPSAodG90YWxDb3VudCwgcGVyUGFnZSkgPT4ge1xuICBsZXQgZmlyc3RQYWdlID0gMTtcbiAgbGV0IHNlbGVjdGVkUGFnZSA9IGZpcnN0UGFnZTtcbiAgbGV0IGxhc3RQYWdlID0gTWF0aC5jZWlsKHRvdGFsQ291bnQgLyBwZXJQYWdlKTtcbiAgY29uc3QgcGFnZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9zdCAucGFnaW5hdGlvblwiKTtcblxuICAvLyDtjpjsnbTsp4Ag67KE7Yq8IOyDneyEsVxuICBjb25zdCBjcmVhdGVQYWdlQnRucyA9IChjb250YWluZXIsIGZpcnN0UGFnZSkgPT4ge1xuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGxldCBwYWdlQnRucyA9IGA8ZGl2IGNsYXNzPVwicHJldi1idG4gcGFnZS1idG5cIj48PC9kaXY+YDtcbiAgICBmb3IgKGxldCBpID0gZmlyc3RQYWdlOyBpIDwgZmlyc3RQYWdlICsgcGVyUGFnZTsgaSsrKSB7XG4gICAgICBpZiAoaSA+IGxhc3RQYWdlKSBicmVhaztcbiAgICAgIGlmIChpID09PSBzZWxlY3RlZFBhZ2UpIHtcbiAgICAgICAgcGFnZUJ0bnMgKz0gYDxkaXYgY2xhc3M9XCJwYWdlLWJ0biBhY3RpdmVcIj4ke2l9PC9kaXY+YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VCdG5zICs9IGA8ZGl2IGNsYXNzPVwicGFnZS1idG5cIj4ke2l9PC9kaXY+YDtcbiAgICAgIH1cbiAgICB9XG4gICAgcGFnZUJ0bnMgKz0gYDxkaXYgY2xhc3M9XCJuZXh0LWJ0biBwYWdlLWJ0blwiPj48L2Rpdj5gO1xuICAgIHBhZ2VDb250YWluZXIuaW5uZXJIVE1MICs9IHBhZ2VCdG5zO1xuICB9O1xuXG4gIGNyZWF0ZVBhZ2VCdG5zKHBhZ2VDb250YWluZXIsIGZpcnN0UGFnZSk7XG5cbiAgLy8g7Y6Y7J207KeAIOuztOyXrOyjvOq4sFxuICBjb25zdCBzaG93UGFnZVJlc3VsdCA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgbGV0IFtsb3N0UGV0TGlzdCwgdG90YWxDb3VudF0gPSBhd2FpdCBnZXRMb3N0UGV0cyh7XG4gICAgICAuLi5zZWFyY2hQYXJhbXMsXG4gICAgICBwYWdlTm86IHBhZ2UsXG4gICAgfSk7XG4gICAgcGFpbnRMb3N0UGV0cyhsb3N0UGV0TGlzdCk7XG4gIH07XG5cbiAgLy8g67KE7Yq87JeQIOydtOuypO2KuCDrpqzsiqTrhIgg65Ox66GdXG4gIHBhZ2VDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChlLnRhcmdldC5pbm5lclRleHQgPT09IFwiPFwiKSB7XG4gICAgICBpZiAoZmlyc3RQYWdlID4gMSkge1xuICAgICAgICBmaXJzdFBhZ2UgLT0gcGVyUGFnZTtcbiAgICAgICAgc2VsZWN0ZWRQYWdlID0gZmlyc3RQYWdlO1xuICAgICAgICBjcmVhdGVQYWdlQnRucyhwYWdlQ29udGFpbmVyLCBzZWxlY3RlZFBhZ2UpO1xuICAgICAgICBzaG93UGFnZVJlc3VsdChzZWxlY3RlZFBhZ2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuaW5uZXJUZXh0ID09PSBcIj5cIikge1xuICAgICAgaWYgKGZpcnN0UGFnZSA8PSBsYXN0UGFnZSAtIHBlclBhZ2UpIHtcbiAgICAgICAgZmlyc3RQYWdlICs9IHBlclBhZ2U7XG4gICAgICAgIHNlbGVjdGVkUGFnZSA9IGZpcnN0UGFnZTtcbiAgICAgICAgY3JlYXRlUGFnZUJ0bnMocGFnZUNvbnRhaW5lciwgc2VsZWN0ZWRQYWdlKTtcbiAgICAgICAgc2hvd1BhZ2VSZXN1bHQoc2VsZWN0ZWRQYWdlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYWN0aXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wYWdpbmF0aW9uIC5hY3RpdmVcIik7XG4gICAgICBhY3RpdmVCdG4uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgIHNlbGVjdGVkUGFnZSA9IE51bWJlcihlLnRhcmdldC5pbm5lclRleHQpO1xuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgIHNob3dQYWdlUmVzdWx0KHNlbGVjdGVkUGFnZSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IHNldFBhZ2luYXRpb24gfTtcbiIsImNvbnN0IGNyZWF0ZUxvc3RQZXRJdGVtID0gKGl0ZW0pID0+IHtcbiAgY29uc3Qge1xuICAgIGFnZSxcbiAgICBkZXNlcnRpb25ObyxcbiAgICBoYXBwZW5EdCxcbiAgICBraW5kQ2QsXG4gICAgb3JnTm0sXG4gICAgcG9wZmlsZSxcbiAgICBwcm9jZXNzU3RhdGUsXG4gICAgc2V4Q2QsXG4gICAgc3BlY2lhbE1hcmssXG4gICAgd2VpZ2h0LFxuICB9ID0gaXRlbTtcblxuICBjb25zdCBsb3N0UGV0VGVtcGxhdGUgPSBgXG4gICAgPGFydGljbGUgY2xhc3M9XCJsb3N0LWNvbnRlbnRfX2l0ZW1cIj5cbiAgICAgIDxhIGhyZWY9XCIvbG9zdFBldHMvJHtkZXNlcnRpb25Ob31cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvc3QtY29udGVudF9faW1nLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIGNsYXNzPVwibG9zdC1jb250ZW50X19pbWdcIlxuICAgICAgICAgICAgc3JjPVwiJHtwb3BmaWxlfVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb3N0LWNvbnRlbnRfX2luZm9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9zdC1jb250ZW50X19raW5kLXNleFwiPlxuICAgICAgICAgICAgPHNwYW4+JHtraW5kQ2R9IC8gJHtzZXhDZH08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvc3QtY29udGVudF9fYWdlLXdlaWdodFwiPlxuICAgICAgICAgICAgPHNwYW4+JHthZ2V9IC8gJHt3ZWlnaHR9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb3N0LWNvbnRlbnRfX2RhdGVcIj5cbiAgICAgICAgICAgIDxzcGFuPiR7aGFwcGVuRHR9IOygkeyImDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9zdC1jb250ZW50X19wbGFjZVwiPlxuICAgICAgICAgICAgPHNwYW4+JHtvcmdObX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvc3QtY29udGVudF9fc3BlY2lhbFwiPlxuICAgICAgICAgICAgPHNwYW4+JHtzcGVjaWFsTWFya308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvc3QtY29udGVudF9fc3RhdGVcIj48c3Bhbj4ke3Byb2Nlc3NTdGF0ZX08L3NwYW4+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9hPlxuICAgIDwvYXJ0aWNsZT5cbmA7XG5cbiAgcmV0dXJuIGxvc3RQZXRUZW1wbGF0ZTtcbn07XG5cbmNvbnN0IHBhaW50TG9zdFBldHMgPSAobG9zdFBldExpc3QpID0+IHtcbiAgY29uc3QgbG9zdFBldEl0ZW1zID0gbG9zdFBldExpc3QubWFwKGNyZWF0ZUxvc3RQZXRJdGVtKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb3N0LWNvbnRlbnRcIikuaW5uZXJIVE1MID0gbG9zdFBldEl0ZW1zLmpvaW4oXCJcIik7XG59O1xuXG5leHBvcnQgeyBwYWludExvc3RQZXRzIH07XG4iLCJjb25zdCBjcmVhdGVMb3N0UGV0RGV0YWlsID0gKGl0ZW0pID0+IHtcbiAgY29uc3QgbG9zdFBldERldGFpbFRlbXBsYXRlID0gYFxuICA8ZGl2IGNsYXNzPVwibG9zdC1kZXRhaWxfX2ltZy1jb250YWluZXJcIj5cbiAgICA8aW1nXG4gICAgICBjbGFzcz1cImxvc3QtZGV0YWlsX19pbWdcIlxuICAgICAgc3JjPVwiJHtpdGVtLnBvcGZpbGV9XCJcbiAgICAvPlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwibG9zdC1kZXRhaWxfX2luZm9cIj5cbiAgICA8ZGl2IGNsYXNzPVwibG9zdC1kZXRhaWxfX2FuaW1hbC1pbmZvXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibG9zdC1kZXRhaWxfX3RpdGxlXCI+67O07Zi4IOuPmeusvCDsoJXrs7Q8L2Rpdj5cbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD7qs7Xqs6DrsojtmLg8L3RoPlxuICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIzXCI+JHtpdGVtLm5vdGljZU5vfTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+6rO16rOg6riw6rCEPC90aD5cbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0ubm90aWNlU2R0fSB+ICR7aXRlbS5ub3RpY2VFZHR9PC90ZD5cbiAgICAgICAgICAgIDx0aD7sg4Htg5w8L3RoPlxuICAgICAgICAgICAgPHRkPiR7aXRlbS5wcm9jZXNzU3RhdGV9PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD7tkojsooU8L3RoPlxuICAgICAgICAgICAgPHRkPiR7aXRlbS5raW5kQ2R9PC90ZD5cbiAgICAgICAgICAgIDx0aD7sg4nsg4E8L3RoPlxuICAgICAgICAgICAgPHRkPiR7aXRlbS5jb2xvckNkfTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+64KY7J20PC90aD5cbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0uYWdlfTwvdGQ+XG4gICAgICAgICAgICA8dGg+7LK07KSRPC90aD5cbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0ud2VpZ2h0fTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+7ISx67OEPC90aD5cbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0uc2V4Q2R9PC90ZD5cbiAgICAgICAgICAgIDx0aD7spJHshLHtmZTsl6zrtoA8L3RoPlxuICAgICAgICAgICAgPHRkPiR7aXRlbS5uZXV0ZXJZbn08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPuygkeyImOydvDwvdGg+XG4gICAgICAgICAgICA8dGQ+JHtpdGVtLmhhcHBlbkR0fTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+67Cc6rKs7J6l7IaMPC90aD5cbiAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiM1wiPiR7aXRlbS5oYXBwZW5QbGFjZX08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPu2KueynlTwvdGg+XG4gICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjNcIj4ke2l0ZW0uc3BlY2lhbE1hcmt9PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJsb3N0LWRldGFpbF9fc2hlbHRlci1pbmZvXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibG9zdC1kZXRhaWxfX3RpdGxlXCI+67O07Zi47IaMIOygleuztDwvZGl2PlxuICAgICAgPHRhYmxlPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPuuztO2YuOyGjOuqhTwvdGg+XG4gICAgICAgICAgICA8dGQ+JHtpdGVtLmNhcmVObX08L3RkPlxuICAgICAgICAgICAgPHRoPuyghO2ZlOuyiO2YuDwvdGg+XG4gICAgICAgICAgICA8dGQ+JHtpdGVtLmNhcmVUZWx9PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD7rs7TtmLjsnqXshow8L3RoPlxuICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIzXCI+JHtpdGVtLmNhcmVBZGRyfTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+6rSA7ZWg6riw6rSAPC90aD5cbiAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiM1wiPiR7aXRlbS5vcmdObX08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPuuLtOuLueyekDwvdGg+XG4gICAgICAgICAgICA8dGQ+JHtpdGVtLmNoYXJnZU5tfTwvdGQ+XG4gICAgICAgICAgICA8dGg+7Jew65297LKYPC90aD5cbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0ub2ZmaWNldGVsfTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuYDtcblxuICByZXR1cm4gbG9zdFBldERldGFpbFRlbXBsYXRlO1xufTtcblxuY29uc3QgcGFpbnRMb3N0UGV0RGV0YWlsID0gKGxvc3RQZXRMaXN0KSA9PiB7XG4gIGNvbnN0IHBhdGhOYW1lID0gbG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpWzJdO1xuICBjb25zdCBjdXJyZW50UGV0ID0gbG9zdFBldExpc3QuZmluZChcbiAgICAoaXRlbSkgPT4gU3RyaW5nKGl0ZW0uZGVzZXJ0aW9uTm8pID09PSBwYXRoTmFtZVxuICApO1xuICBjb25zdCBsb3N0UGV0RGV0YWlsID0gY3JlYXRlTG9zdFBldERldGFpbChjdXJyZW50UGV0KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb3N0LWRldGFpbC1jb250YWluZXJcIikuaW5uZXJIVE1MID0gbG9zdFBldERldGFpbDtcbn07XG5cbmV4cG9ydCB7IHBhaW50TG9zdFBldERldGFpbCB9O1xuIiwiY29uc3Qgc2VhcmNoRm9ybVRlbXBsYXRlID0gYFxuICA8ZGl2IGNsYXNzPVwibG9zdC1zZWFyY2hfX2JveFwiPlxuICAgIDxmb3JtXG4gICAgICBpZD1cImxvc3RTZWFyY2hGb3JtXCJcbiAgICAgIG1ldGhvZD1cIkdFVFwiXG4gICAgICBhY3Rpb249XCIuL2xvc3RQZXRzXCJcbiAgICAgIGFjY2VwdC1jaGFyc2V0PVwidXRmLThcIlxuICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzPVwibG9zdC1zZWFyY2hfX2RhdGVcIj5cbiAgICAgICAgPHNwYW4+64Kg7KecPC9zcGFuPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImJlZ2luRGF0ZVwiIG5hbWU9XCJiZ25kZVwiIC8+XG4gICAgICAgIDxzcGFuPn48L3NwYW4+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGlkPVwiZW5kRGF0ZVwiIG5hbWU9XCJlbmRkZVwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsb3N0LXNlYXJjaF9fcGxhY2VcIj5cbiAgICAgICAgPHNwYW4+7KeA7JetPC9zcGFuPlxuICAgICAgICA8c2VsZWN0IGlkPVwic2lkb1wiIG5hbWU9XCJ1cHJfY2RcIj48L3NlbGVjdD5cbiAgICAgICAgPHNlbGVjdCBpZD1cInNpZ3VuZ3VcIiBuYW1lPVwib3JnX2NkXCI+PC9zZWxlY3Q+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsb3N0LXNlYXJjaF9fa2luZC1zdGF0ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9zdC1zZWFyY2hfX2tpbmRcIj5cbiAgICAgICAgICA8c3Bhbj7tkojsooU8L3NwYW4+XG4gICAgICAgICAgPHNlbGVjdCBpZD1cInVwa2luZFwiIG5hbWU9XCJ1cF9raW5kX2NkXCI+PC9zZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9zdC1zZWFyY2hfX3N0YXRlXCI+XG4gICAgICAgICAgPHNwYW4+7IOB7YOcPC9zcGFuPlxuICAgICAgICAgIDxzZWxlY3QgaWQ9XCJzdGF0ZVwiIG5hbWU9XCJzdGF0ZVwiPjwvc2VsZWN0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInNlYXJjaC1idG4tY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gc2VhcmNoLWJ0blwiPuqygOyDiTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPlxuICA8L2Rpdj5cbmA7XG5cbmNvbnN0IHNlYXJjaE9wdGlvbnMgPSB7XG4gIHNpZG86IFwi7IucL+uPhFwiLFxuICBzaWd1bmd1OiBcIuyLnC/qtbAv6rWsXCIsXG4gIHVwa2luZDogXCLstpXsooVcIixcbiAgc3RhdGU6IFwi7IOB7YOcXCIsXG59O1xuXG5jb25zdCBwYXJlbnRPcHRpb25zID0ge1xuICBzaWRvOiB7XG4gICAg7ISc7Jq47Yq567OE7IucOiBcIjYxMTAwMDBcIixcbiAgICDrtoDsgrDqtJHsl63si5w6IFwiNjI2MDAwMFwiLFxuICAgIOuMgOq1rOq0keyXreyLnDogXCI2MjcwMDAwXCIsXG4gICAg7J247LKc6rSR7Jet7IucOiBcIjYyODAwMDBcIixcbiAgICDqtJHso7zqtJHsl63si5w6IFwiNjI5MDAwMFwiLFxuICAgIOuMgOyghOq0keyXreyLnDogXCI2MzAwMDAwXCIsXG4gICAg7Jq47IKw6rSR7Jet7IucOiBcIjYzMTAwMDBcIixcbiAgICDshLjsooXtirnrs4TsnpDsuZjsi5w6IFwiNTY5MDAwMFwiLFxuICAgIOqyveq4sOuPhDogXCI2NDEwMDAwXCIsXG4gICAg6rCV7JuQ64+EOiBcIjY0MjAwMDBcIixcbiAgICDstqnssq3rtoHrj4Q6IFwiNjQzMDAwMFwiLFxuICAgIOy2qeyyreuCqOuPhDogXCI2NDQwMDAwXCIsXG4gICAg7KCE652867aB64+EOiBcIjY0NTAwMDBcIixcbiAgICDsoITrnbzrgqjrj4Q6IFwiNjQ2MDAwMFwiLFxuICAgIOqyveyDgeu2geuPhDogXCI2NDcwMDAwXCIsXG4gICAg6rK97IOB64Ko64+EOiBcIjY0ODAwMDBcIixcbiAgICDsoJzso7ztirnrs4TsnpDsuZjrj4Q6IFwiNjUwMDAwMFwiLFxuICB9LFxuICB1cGtpbmQ6IHtcbiAgICDqsJw6IFwiNDE3MDAwXCIsXG4gICAg6rOg7JaR7J20OiBcIjQyMjQwMFwiLFxuICAgIOq4sO2DgDogXCI0Mjk5MDBcIixcbiAgfSxcbiAgc3RhdGU6IHtcbiAgICDqs7Xqs6DspJE6IFwibm90aWNlXCIsXG4gICAg67O07Zi47KSROiBcInByb3RlY3RcIixcbiAgfSxcbn07XG5cbi8vIOy0iOq4sCDsmLXshZgg7IOd7ISxOiBwbGFjZWhvbGRlciwg7KCE7LK0IOyEoO2DnVxuY29uc3Qgc2V0SW5pdGlhbE9wdGlvbnMgPSAoKSA9PiB7XG4gIGNvbnN0IHNlbGVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxvc3Qtc2VhcmNoIHNlbGVjdFwiKTtcbiAgc2VsZWN0cy5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICBjb25zdCB7IGlkIH0gPSBzZWxlY3Q7XG4gICAgY29uc3Qgb3B0aW9uTmFtZSA9IHNlYXJjaE9wdGlvbnNbaWRdO1xuICAgIHNlbGVjdC5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIiBkaXNhYmxlZCBzZWxlY3RlZCBoaWRkZW4+JHtvcHRpb25OYW1lfSDshKDtg508L29wdGlvbj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPuyghOyytDwvb3B0aW9uPlxuICAgICAgICBgO1xuXG4gICAgaWYgKGlkIGluIHBhcmVudE9wdGlvbnMpIHtcbiAgICAgIGNyZWF0ZU9wdGlvbnMoc2VsZWN0LCBwYXJlbnRPcHRpb25zW2lkXSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IGNyZWF0ZU9wdGlvbnMgPSAoc2VsZWN0LCBvcHRpb25zKSA9PiB7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpKSB7XG4gICAgc2VsZWN0LmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT1cIiR7dmFsdWV9XCI+JHtrZXl9PC9vcHRpb24+YDtcbiAgfVxufTtcblxuLy8g7Iuc6rWw6rWsIOyYteyFmCDrj5nsoIEg7IOd7ISxXG5jb25zdCBnZXRTaWd1bmd1RGF0YSA9IGFzeW5jICh1cHJfY2QpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2dldC1kaXN0cmljdC8/dXByX2NkPSR7dXByX2NkfWApO1xuICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBzZXRTaWd1bmd1T3B0aW9ucyA9IGFzeW5jICh1cHJfY2QpID0+IHtcbiAgY29uc3Qgc2lndW5ndVNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2lndW5ndVwiKTtcbiAgc2lndW5ndVNlbGVjdC5pbm5lckhUTUwgPSBgXG4gICAgPG9wdGlvbiB2YWx1ZT1cIlwiIGRpc2FibGVkIHNlbGVjdGVkIGhpZGRlbj7si5wv6rWwL+q1rCDshKDtg508L29wdGlvbj5cbiAgICA8b3B0aW9uIHZhbHVlPVwiXCI+7KCE7LK0PC9vcHRpb24+XG4gIGA7XG4gIGNvbnN0IHNpZ3VuZ3UgPSBhd2FpdCBnZXRTaWd1bmd1RGF0YSh1cHJfY2QpO1xuICBzaWd1bmd1LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBjb25zdCB7IG9yZ0NkLCBvcmdkb3duTm0gfSA9IGl0ZW07XG4gICAgc2lndW5ndVNlbGVjdC5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9XCIke29yZ0NkfVwiPiR7b3JnZG93bk5tfTwvb3B0aW9uPmA7XG4gIH0pO1xufTtcblxuLy8g6rKA7IOJIO2PvCDsg53shLFcbmNvbnN0IHBhaW50U2VhcmNoRm9ybSA9ICgpID0+IHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb3N0LXNlYXJjaFwiKS5pbm5lckhUTUwgPSBzZWFyY2hGb3JtVGVtcGxhdGU7XG4gIHNldEluaXRpYWxPcHRpb25zKCk7XG5cbiAgY29uc3Qgc2lkb1NlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2lkb1wiKTtcbiAgc2lkb1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChlKSA9PiB7XG4gICAgc2V0U2lndW5ndU9wdGlvbnMoZS50YXJnZXQudmFsdWUpO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IHBhaW50U2VhcmNoRm9ybSB9O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ21vZHVsZScgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3OSk7XG4iXSwibmFtZXMiOlsid2VicGFja1RoZW4iLCJ3ZWJwYWNrRXhwb3J0cyIsImNvbXBsZXRlUXVldWUiLCJjb21wbGV0ZUZ1bmN0aW9uIiwicXVldWVGdW5jdGlvbiIsImNyZWF0ZUJhY2tCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJzZWFyY2hQYXJhbXMiLCJwYWdlTm8iLCJudW1PZlJvd3MiLCJ1cGtpbmQiLCJ1cHJfY2QiLCJvcmdfY2QiLCJzdGF0ZSIsImJnbmRlIiwiZW5kZGUiLCJnZXRMb3N0UGV0cyIsImFzeW5jIiwicGFyYW1zIiwibG9zdFBldERhdGEiLCJmZXRjaCIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJnZXRMb3N0UGV0RGF0YSIsImxvc3RQZXRMaXN0IiwidG90YWxDb3VudCIsImRhdGEiLCJpdGVtcyIsIml0ZW0iLCJnZXRMb3N0UGV0TGlzdCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJzaG93U2VhcmNoUmVzdWx0IiwidmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2V0UGFnaW5hdGlvbiIsInBlclBhZ2UiLCJmaXJzdFBhZ2UiLCJzZWxlY3RlZFBhZ2UiLCJsYXN0UGFnZSIsIk1hdGgiLCJjZWlsIiwicGFnZUNvbnRhaW5lciIsImNyZWF0ZVBhZ2VCdG5zIiwiY29udGFpbmVyIiwicGFnZUJ0bnMiLCJpIiwic2hvd1BhZ2VSZXN1bHQiLCJwYWdlIiwidGFyZ2V0IiwiaW5uZXJUZXh0IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiTnVtYmVyIiwiYWRkIiwiY3JlYXRlTG9zdFBldEl0ZW0iLCJhZ2UiLCJkZXNlcnRpb25ObyIsImhhcHBlbkR0Iiwia2luZENkIiwib3JnTm0iLCJwb3BmaWxlIiwicHJvY2Vzc1N0YXRlIiwic2V4Q2QiLCJzcGVjaWFsTWFyayIsIndlaWdodCIsInBhaW50TG9zdFBldHMiLCJsb3N0UGV0SXRlbXMiLCJtYXAiLCJqb2luIiwicGFpbnRMb3N0UGV0RGV0YWlsIiwicGF0aE5hbWUiLCJzcGxpdCIsImN1cnJlbnRQZXQiLCJmaW5kIiwiU3RyaW5nIiwibG9zdFBldERldGFpbCIsIm5vdGljZU5vIiwibm90aWNlU2R0Iiwibm90aWNlRWR0IiwiY29sb3JDZCIsIm5ldXRlclluIiwiaGFwcGVuUGxhY2UiLCJjYXJlTm0iLCJjYXJlVGVsIiwiY2FyZUFkZHIiLCJjaGFyZ2VObSIsIm9mZmljZXRlbCIsInNlYXJjaE9wdGlvbnMiLCJzaWRvIiwic2lndW5ndSIsInBhcmVudE9wdGlvbnMiLCJwYWludFNlYXJjaEZvcm0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInNlbGVjdCIsImlkIiwib3B0aW9uTmFtZSIsIm9wdGlvbnMiLCJrZXkiLCJPYmplY3QiLCJlbnRyaWVzIiwiY3JlYXRlT3B0aW9ucyIsInNpZ3VuZ3VTZWxlY3QiLCJnZXRTaWd1bmd1RGF0YSIsIm9yZ0NkIiwib3JnZG93bk5tIiwic2V0U2lndW5ndU9wdGlvbnMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIlN5bWJvbCIsInF1ZXVlIiwiZm4iLCJyIiwicHVzaCIsImEiLCJib2R5IiwiaGFzQXdhaXQiLCJjdXJyZW50RGVwcyIsIm91dGVyUmVzb2x2ZSIsInJlamVjdCIsImlzRXZhbHVhdGluZyIsIm5lc3RlZCIsIndoZW5BbGwiLCJkZXBzIiwib25SZXNvbHZlIiwib25SZWplY3QiLCJsZW5ndGgiLCJkZXAiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWoiLCJyZWplY3RGbiIsInJlc3VsdCIsInRoZW4iLCJvYmoiLCJyZXQiLCJ3cmFwRGVwcyIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9